{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{376:function(t,e,a){\"use strict\";a.r(e);var s=a(588),n=a(421);for(var o in n)\"default\"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);var i=a(22),r=Object(i.a)(n.default,s.a,s.b,!1,null,null,null);r.options.__file=\"pages\\\\Books.vue\",e.default=r.exports},379:function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this.$createElement,e=this._self._c||t;return e(\"section\",{staticClass:\"content-wrap\"},[e(\"div\",{staticClass:\"container\"},[e(\"div\",{staticClass:\"row\"},[e(\"main\",{staticClass:\"col-sm-10 col-md-10 col-lg-10\",attrs:{id:\"content\"}},[e(\"div\",{staticClass:\"row\"},[e(\"div\",{staticClass:\"col-sm-2 col-md-2 col-lg-2 hidden-xs sidebar\",attrs:{id:\"left\"}},[this._t(\"left\")],2),this._v(\" \"),e(\"div\",{staticClass:\"col-sm-10 col-md-10 col-lg-10\",attrs:{id:\"data\"}},[this._t(\"data\"),this._v(\" \"),e(\"div\",{staticClass:\"row\",attrs:{id:\"more\"}},[this._t(\"more\")],2)],2)])]),this._v(\" \"),e(\"aside\",{staticClass:\"col-sm-2 col-md-2 col-lg-2 sidebar\",attrs:{id:\"right\"}},[this._t(\"right\")],2)])])])};s._withStripped=!0;var n=a(22),o=Object(n.a)({},s,[],!1,null,null,null);o.options.__file=\"components\\\\TheMainBody.vue\";e.default=o.exports},421:function(t,e,a){\"use strict\";a.r(e);var s=a(422),n=a.n(s);for(var o in s)\"default\"!==o&&function(t){a.d(e,t,function(){return s[t]})}(o);e.default=n.a},422:function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=o(a(379)),n=o(a(574));function o(t){return t&&t.__esModule?t:{default:t}}e.default={components:{\"the-main-body\":s.default,\"base-book\":n.default},computed:{books:function(){return this.$store.state.data},page:function(){return this.$store.state.page},tag:function(){return this.$store.state.tag},count:function(){return this.$store.state.num}},methods:{clearTag:function(){this.$store.commit(\"set\",[{key:\"tag\",value:\"\"}]),this.refresh()},refresh:function(){this.$store.commit(\"set\",[{key:\"page\",value:1},{key:\"data\",value:[]}]),this.getMore()},getMore:function(){var t=this;t.$http.get(\"/api/books\",{params:{page:t.page,count:t.count,tag:t.tag}}).then(function(e){var a=e.data.results;t.$store.commit(\"addData\",{content:a}),t.$store.commit(\"set\",[{key:\"page\",value:a.length==t.count?t.page+1:0}])}).catch(function(e){\"404\"==e.message&&t.$store.commit(\"set\",[{key:\"page\",value:0}])})}},mounted:function(){this.getMore()}}},423:function(t,e,a){\"use strict\";a.r(e);var s=a(424),n=a.n(s);for(var o in s)\"default\"!==o&&function(t){a.d(e,t,function(){return s[t]})}(o);e.default=n.a},424:function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var s=function(t){return t&&t.__esModule?t:{default:t}}(a(575));e.default={props:{book:{type:Object,required:!0}},data:function(){return{status:this.book.status}},computed:{isAdmin:function(){return this.$store.state.isAdmin}},methods:{filterByStatus:function(){this.$store.commit(\"set\",[{key:\"tag\",value:this.status}]),this.$emit(\"refresh\")}},watch:{status:s.default.debounce(function(t,e){var a=this;a.$http.post(\"/api/manage/book/status\",{name:a.book.name,status:t}).then(function(t){a.$emit(\"refresh\")}).catch(function(t){console.log(t),alert(\"修改数据阅读状态失败\")})},1e3)}}},425:function(t,e,a){var s=a(577);\"string\"==typeof s&&(s=[[t.i,s,\"\"]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(52)(s,n);s.locals&&(t.exports=s.locals)},574:function(t,e,a){\"use strict\";a.r(e);var s=a(590),n=a(423);for(var o in n)\"default\"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);a(576);var i=a(22),r=Object(i.a)(n.default,s.a,s.b,!1,null,\"844c1e96\",null);r.options.__file=\"components\\\\BaseBook.vue\",e.default=r.exports},576:function(t,e,a){\"use strict\";var s=a(425);a.n(s).a},577:function(t,e,a){(t.exports=a(51)(!1)).push([t.i,\"\\na img[data-v-844c1e96] {\\n    width: 150px;\\n}\\n.book[data-v-844c1e96] {\\n    margin-bottom: 35px;\\n    margin-top: 15px;\\n    display: block;\\n    word-break: break-all; \\n    word-wrap:break-word;\\n    background-color: white;\\n}\\n.book[data-v-844c1e96]:hover {\\n    position:relative;\\n    top:-5px;\\n    left:-5px;\\n    box-shadow: 5px 5px 5px #888888;\\n}\\n\",\"\"])},588:function(t,e,a){\"use strict\";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"the-main-body\",[a(\"template\",{slot:\"data\"},[a(\"div\",{staticClass:\"well well-lg text-center\"},[a(\"h3\",[a(\"strong\",[t._v(\"豆瓣上一些评分大于9.0的书籍。\")])])]),t._v(\" \"),\"\"!=t.tag?a(\"div\",{staticClass:\"well well-lg text-center\"},[a(\"span\",[a(\"strong\",[0==t.tag?[t._v(\"未读\")]:1==t.tag?[t._v(\"阅读中\")]:2==t.tag?[t._v(\"已读\")]:t._e()],2),t._v(\" \"),a(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"aria-hidden\":\"true\",title:\"清除标签\"},on:{click:function(e){return e.preventDefault(),t.clearTag(e)}}},[t._v(\"\\n                    ×\\n                \")])])]):t._e(),t._v(\" \"),t._l(t.books,function(e){return a(\"base-book\",{key:e.douban_link.split(\"/\")[-1],attrs:{book:e},on:{refresh:t.refresh}})})],2),t._v(\" \"),a(\"template\",{slot:\"more\"},[a(\"ul\",{staticClass:\"pager\"},[a(\"li\",[0!=t.page?a(\"a\",{on:{click:function(e){return e.preventDefault(),t.getMore(e)}}},[t._v(\"查看更多\")]):a(\"small\",[t._v(\"没有更多数据了\")])])])])],2)},n=[];s._withStripped=!0,a.d(e,\"a\",function(){return s}),a.d(e,\"b\",function(){return n})},590:function(t,e,a){\"use strict\";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"article\",{staticClass:\"book media\",attrs:{id:t.book.douban_link.split(\"/\")[-1]}},[a(\"a\",{staticClass:\"media-left\",attrs:{href:t.book.douban_link}},[a(\"img\",{staticClass:\"media-object\",attrs:{src:t.book.image_paths,alt:\"\",title:t.book.name}})]),t._v(\" \"),a(\"div\",{staticClass:\"media-body\"},[a(\"div\",{staticClass:\"media-heading\"},[a(\"ul\",{staticClass:\"list-inline\"},[a(\"li\",[a(\"h4\",[a(\"a\",{staticClass:\"media-left\",attrs:{href:t.book.douban_link}},[t._v(\"\\n                            \"+t._s(t.book.name)+\"\\n                        \")])])]),t._v(\" \"),a(\"li\",{staticClass:\"pull-right\"},[t.isAdmin?a(\"div\",{staticClass:\"dropdown\"},[a(\"button\",{staticClass:\"btn dropdown-toggle\",attrs:{type:\"button\",id:\"status\",\"data-toggle\":\"dropdown\"}},[0==t.status?[t._v(\"未读\")]:1==t.status?[t._v(\"阅读中\")]:2==t.status?[t._v(\"已读\")]:t._e(),t._v(\" \"),a(\"span\",{staticClass:\"caret\"})],2),t._v(\" \"),a(\"ul\",{staticClass:\"dropdown-menu\",attrs:{role:\"menu\",\"aria-labelledby\":\"status\"}},[a(\"li\",{attrs:{role:\"presentation\"}},[a(\"a\",{attrs:{role:\"menuitem\",tabindex:\"-1\"},on:{click:function(e){e.preventDefault(),t.status=0}}},[t._v(\"未读\")])]),t._v(\" \"),a(\"li\",{attrs:{role:\"presentation\"}},[a(\"a\",{attrs:{role:\"menuitem\",tabindex:\"-1\"},on:{click:function(e){e.preventDefault(),t.status=1}}},[t._v(\"阅读中\")])]),t._v(\" \"),a(\"li\",{attrs:{role:\"presentation\"}},[a(\"a\",{attrs:{role:\"menuitem\",tabindex:\"-1\"},on:{click:function(e){e.preventDefault(),t.status=2}}},[t._v(\"已读\")])])])]):a(\"button\",{staticClass:\"btn\",staticStyle:{\"background-color\":\"white\"},on:{click:function(e){return e.preventDefault(),t.filterByStatus(e)}}},[0==t.status?a(\"span\",{staticClass:\"label label-default\"},[t._v(\"未读\")]):1==t.status?a(\"span\",{staticClass:\"label label-primary\"},[t._v(\"阅读中\")]):2==t.status?a(\"span\",{staticClass:\"label label-success\"},[t._v(\"已读\")]):t._e()])])])]),t._v(\" \"),a(\"p\",{staticStyle:{color:\"gray\"}},[t._v(t._s(t.book.author))]),a(\"br\"),t._v(\" \"),a(\"p\",{staticStyle:{color:\"gray\"}},[t._v(\"豆瓣评分: \"+t._s(t.book.grade)+\" (\"+t._s(t.book.comments)+\"人评价)\")]),a(\"br\"),t._v(\" \"),a(\"p\",[t._v(t._s(t.book.intro))]),a(\"br\")])])},n=[];s._withStripped=!0,a.d(e,\"a\",function(){return s}),a.d(e,\"b\",function(){return n})}}]);","extractedComments":[]}